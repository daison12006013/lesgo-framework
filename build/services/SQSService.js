"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _awsSdk=require("aws-sdk"),_LesgoException=_interopRequireDefault(require("../exceptions/LesgoException"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}class SQSService{constructor(a={accessKeyId:null,secretAccessKey:null,region:null},b={}){let c={};null!==a.accessKeyId&&a.accessKeyId!==void 0&&(c={...c,accessKeyId:a.accessKeyId}),null!==a.secretAccessKey&&a.secretAccessKey!==void 0&&(c={...c,secretAccessKey:a.secretAccessKey}),null!==a.region&&a.region!==void 0&&(c={...c,region:a.region}),this.sqsClient=new _awsSdk.SQS({...{...c}}),this.queues=b}dispatch(a,b){if(a===void 0)throw new _LesgoException.default("payload is undefined in dispatch()","SQSSERVICE_DISPATCH_PAYLOAD_UNDEFINED");if(void 0===b)throw new _LesgoException.default("queueName is undefined in dispatch()","SQSSERVICE_DISPATCH_QUEUENAME_UNDEFINED");const c=this.queues[b];return this.sqsClient.sendMessage({MessageBody:JSON.stringify(a),QueueUrl:`${c.url}`}).promise()}}exports.default=SQSService;